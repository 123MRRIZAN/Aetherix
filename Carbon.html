<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Aetherix - Carbon Calculator</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
body { font-family: Arial; background:#e0f7fa; color:#003366; margin:0; padding:0; }
header { background:#009688; color:white; padding:20px; text-align:center; }
nav { background:#004d40; display:flex; justify-content:center; flex-wrap: wrap; }
nav a { color:white; padding:10px 20px; text-decoration:none; margin:2px; }
nav a:hover, nav a.active { background:#00796b; }
section { padding:30px; text-align:center; }
label { display:block; margin:10px 0; }
input, select { padding:5px; width:150px; }
button { padding:10px 20px; background:#009688; color:white; border:none; cursor:pointer; margin-top:10px; }
button:hover { background:#00796b; }
canvas { margin-top:20px; }
.result { margin-top:20px; background:white; padding:20px; border-radius:10px; display:inline-block; }
.big { font-size:2em; font-weight:bold; }
.tips ul { text-align:left; display:inline-block; margin-top:10px; }
</style>
</head>
<body>
<header><h1>Aetherix — Carbon Footprint Calculator</h1></header>
<nav>
<a href="index.html">Home</a>
<a href="Carbon.html" class="active">Carbon Calculator</a>
<a href="LiveData.html">Live Data</a>
<a href="AISolutions.html">AI Solutions</a>
<a href="Maths.html">Maths</a>
<a href="News.html">News</a>
<a href="About.html">About</a>
</nav>

<section>
<h2>Enter Your Data</h2>
<p>Provide typical weekly/monthly activities and get your annual CO₂e estimate:</p>

<label>Average kilometers driven per week:
  <input id="kmPerWeek" type="number" min="0" value="30" />
</label>

<label>Average monthly electricity usage (kWh):
  <input id="kwhPerMonth" type="number" min="0" value="250" />
</label>

<label>Number of flights (short-haul) per year:
  <input id="flightsShort" type="number" min="0" value="0" />
</label>

<label>Number of flights (long-haul) per year:
  <input id="flightsLong" type="number" min="0" value="0" />
</label>

<label>Diet:
  <select id="diet">
    <option value="2.5">Omnivore (average)</option>
    <option value="1.8">Vegetarian</option>
    <option value="1.5">Vegan</option>
  </select>
</label>

<button onclick="calculate()">Calculate Carbon Footprint</button>
<canvas id="carbonChart" width="400" height="400"></canvas>
<br>
<button onclick="downloadPNG()">Download Result as PNG</button>

<div id="resultCard" class="result hidden">
  <h3>Your estimated annual emissions</h3>
  <p id="totalCO2" class="big">— kg CO₂e / year</p>
  <section class="tips">
    <h4>Top tips to reduce emissions</h4>
    <ul id="tipsList"></ul>
  </section>
</div>
</section>

<script>
function calculate() {
    const km = Number(document.getElementById('kmPerWeek').value);
    const kwh = Number(document.getElementById('kwhPerMonth').value);
    const shortFlights = Number(document.getElementById('flightsShort').value);
    const longFlights = Number(document.getElementById('flightsLong').value);
    const dietFactor = Number(document.getElementById('diet').value);

    // Simplified annual CO2 calculation (demo purposes)
    const transportCO2 = km * 52 * 0.21; // kg CO2 per km per year
    const electricityCO2 = kwh * 12 * 0.233; // kg CO2 per year
    const flightsCO2 = shortFlights * 250 + longFlights * 1100; // kg CO2 per year
    const dietCO2 = dietFactor * 365; // kg CO2 per year

    const totalCO2 = transportCO2 + electricityCO2 + flightsCO2 + dietCO2;

    document.getElementById('totalCO2').innerText = totalCO2.toFixed(2) + " kg CO₂e / year";
    document.getElementById('resultCard').classList.remove('hidden');

    const tips = [];
    if(km > 100) tips.push("Consider carpooling or using public transport.");
    if(kwh > 300) tips.push("Reduce electricity consumption or switch to renewable sources.");
    if(shortFlights + longFlights > 0) tips.push("Limit air travel or use alternative transport.");
    if(dietFactor > 1.5) tips.push("Try reducing meat consumption.");

    const tipsList = document.getElementById('tipsList');
    tipsList.innerHTML = '';
    tips.forEach(t => {
        const li = document.createElement('li');
        li.textContent = t;
        tipsList.appendChild(li);
    });

    // Chart data
    const data = {
        labels: ['Transport', 'Electricity', 'Flights', 'Diet'],
        datasets: [{
            label: 'CO₂e Contribution',
            data: [transportCO2, electricityCO2, flightsCO2, dietCO2],
            backgroundColor: ['#00796b','#4db6ac','#b2dfdb','#80cbc4']
        }]
    };

    if(window.myChart) window.myChart.destroy();
    const ctx = document.getElementById('carbonChart').getContext('2d');
    window.myChart = new Chart(ctx, { type:'pie', data:data });
}

function downloadPNG() {
    const link = document.createElement('a');
    link.download = 'carbon_result.png';
    link.href = document.getElementById('carbonChart').toDataURL();
    link.click();
}
</script>
</body>
</html>
